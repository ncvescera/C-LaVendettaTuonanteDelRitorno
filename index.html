<html>
<head>
	<title>LaPaginaPseudodinamica</title>
<meta charset="UTF-8">
<script src="Chart.js-master/Chart.min.js"></script></head>
<body>
<center>
	<h1>Seleziona il campo da stampare</h1><br>
	<table>
		<tr>
		<td width="320px">
			<select id="select" name="sel" class="form-control" style="width:373px;" autofocus onchange="printNames()">
				<option value=""  selected="selected">Seleziona</option>
				<option value='["nonno fiorucci","germano mosconi","rita coccia"]'>dirigente</option>
				<option value='["francesco trotta","paolo testi","simone casucci","maria delicati"]'>docente</option>
				<option value='["chinea nicola","francesco corbucci","ciro simonetti","niocla malfagia"]'>studente</option>
			</select>
		</td>

		<td>
			<button id="bottone" type="button" onclick="riduci()">↑</button>
		</td>
		</tr>
	</table>
<SCRIPT type="text/javascript">
function printNames(){
var e = document.getElementById('select');
var array = JSON.parse(e.options[e.selectedIndex].value);
var ruolo = e.options[e.selectedIndex].text;
array = array.sort();
var i = 0;document.getElementById('titolo').innerHTML = "";
document.getElementById('nomi').innerHTML = "";
document.getElementById('titolo').innerHTML="<h2>"+ruolo+"</h2>";
for(i=0;i<array.length;i++){document.getElementById('nomi').innerHTML += array[i]+"<br>";}
}

function riduci(){
if(document.getElementById("nomi").style.display == "none"){
document.getElementById("nomi").style.display = "block";
document.getElementById("bottone").textContent = "↑";
}
else {
document.getElementById("nomi").style.display = "none";
document.getElementById("bottone").textContent = "↓";}}
</SCRIPT>

<br>
<table width=1500px>
		<tr>
		<td width="50%" style="border-right: 1px solid black;padding-left:30em;">
			<div id="titolo"></div>
			<div id="nomi"></div>
		</td>
		<td width="50%" style="padding-left:4em;">
			<canvas id="barre" width="500px" height="400px"></canvas>
		</td>
		</tr>
</table>
</center>
<script>
var datiSerie = {
labels : ["dirigente","docente","studente"],
datasets : [
{
fillColor : "rgba(220,0,220,0.5)",
strokeColor : "rgba(220,0,220,0.8)",
highlightFill: "rgba(220,0,220,0.75)",
highlightStroke: "rgba(220,0,220,1)",
pointColor: "rgba(220,0,220,.8)",
pointStrokeColor: "#fff",
pointHighlightFill: "#fff",
pointHighlightStroke: "rgba((220,0,220,1)",
data : [3,4,4]
}
]
};
var barre = document.getElementById("barre").getContext("2d");
new Chart(barre).Bar(datiSerie);
</script>
</body>
</html>
